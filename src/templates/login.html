{# login.html #}
{% extends "topbar_empty_base.html" %}
{% block cabeza_base %}
    {# Enviar mensaje con los datos al server #}
    <script 
    src="{{ url_for('static', filename='js/enviarLogin.js') }}">
    </script>
    {# Script necesario parainterpretar
    respuestas del servidor. Requerido por
    enviarLogin.js#}
    <script 
    src="{{ url_for('static', filename='js/respuestasServidor.js') }}">
    </script>
{% endblock %}

{% block cuerpo_base %}
    <h1>LOGIN</h1>
        {#En los forms, los atributos que identifican a un 
        input text es el name. Es como se identificará en el server.
        P.ej: request.form.get('user') obtendrá el texto
        que haya en el campo de texto con name='user'.#}
        <form id="form_login" action="{{url_for('blueUser.webLogin')}}" method="POST">
            <p>Nombre de usuario:</p>
            <input type="text" id="user" name="user" required="true">
            <br>
            <p>Contraseña:</p>
            <input type="password" id="pass" name="pass" required="true">
            <br>
            <br>
            <button type="submit" id="botonLogin" >Login</button>
        </form>
        <br>
        <p>¿No estás registrado?</p>
        <br>
        <a href="{{url_for('blueOAuth.jsOAuthLogin')}}">Acceder con cuenta de Google</a>
        <br>
        <br>
        <a href="{{url_for('blueUser.webRegister')}}">Registrarse</a>

        <script>
        /*
            $("#botonLogin").click(function()
            {
                var user = $("#user").val();
                var pass = $("#pass").val();
                enviarLogin(user,pass);
            });
        */
        //Unicamente recibe una cadena que se empleará como 
        //selector del form. En este caso, '#form_login'
        var selector = '#form_login';
        enviarLoginForm(selector);
        </script>
{% endblock %}
